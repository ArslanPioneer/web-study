<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>动态创建菜单案例</title>
    <script src="js/documentReady.js"></script>
    <script src="js/EventUtil.js"></script>
</head>
<body>
        <ul id="menu"></ul>

        <script>

            (function(){
                //数据: 假设数据从后台通过ajax获取
                var data =[
                    {name:'首页',url:'/index.html',id:1},
                    {name:'关于',url:'/about.html',id:2},
                    {name:'产品',url:'/product.html',id:3},
                    {name:'案例',url:'usecase.html',id:4},
                ];

                //页面加载完成后动态加载li标签数据
                document.myReady(function(){
                    loadMenu();//初始化菜单数据

                });

                //加载菜单数据
                function loadMenu(){
                    //
                    var menu =document.getElementById('menu');

                    for(var i=0;i<data.length;i++){
                        //创建li标签节点
                        var liElement =document.createElement('li');
                        //给li设置属性
                        liElement.setAttribute('id','menu'+data[i].id);
                        var pElement=document.createElement('p');
                        pElement.setAttribute('id','p'+i);
                        //创建a标签节点
                        var menuLinkElement =document.createElement('a');

                        menuLinkElement.setAttribute('href',data[i].url);
                        pElement.innerHTML = data[i].name;
                        if(menuLinkElement.textContent){
                            menuLinkElement.textContent =data[i].name;//ie9+ 标准浏览器

                        }

                        else {
                            menuLinkElement.innerText=data[i].name;//ie早版本
                        }
                        //把a标签添加到li标签
                        liElement.appendChild(menuLinkElement);

                         //把li标签添加到ul标签上去
                         menu.appendChild(liElement);
                         //把p标签添加到ul标签上去
                         menu.appendChild(pElement);
                    }

                   
                }
            })();
        </script>
          
       
</body>
</html>