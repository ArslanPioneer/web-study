<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        //闭包模式：函数模式的闭包，对象模式的闭包
        //闭包的作用：缓存数据，延长作用域
        //闭包的优点和缺点：缓存数据
        //一个标准的函数示例
        function outerFunction() {
            const outer = `I see the outer variable`;
            function innerFunction() {
                console.log(outer)
            }

            return innerFunction
        }
        outerFunction()();
        //1.使用闭包控制副作用
        function perpareCake (flavor) {
            debugger
            return function () {
                setTimeout(() => console.log(`make a ${flavor} cake!`,1))
            }
        }

        const makeCakeLater = perpareCake('banana');

        //2.使用闭包创建私有变量
        function serect (serectCode) {
            return  {
                saySerectCode () {
                    console.log(serectCode)
                }
            }
        }

        const theSerect = serect('css Tricks is amazing');
        theSerect.saySerectCode();
        
        //函数模式的闭包
        function f1(){
            var num =10;
            function f2() {
                console.log(num);
            }
            f2();
        }
        f1();

        //对象模式的闭包
        function f3() {
            var num=10;
            var obj = {
                age: num
            };
            console.log(obj.age);//10
        }
        f3();
    </script>
</body>
</html>