<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="js/documentReady.js"></script>
    <script src="js/EventUtil.js"></script>
</head>
<body>
    <ul class="list" id="list">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li>9</li>
    <li>10</li>
    <li>11</li>
    <li>12</li>
    <li>13</li>
    <li>143</li>
    <li>15</li>
    <li>16</li>
    <li>123</li>
    <li>123</li>
    <li>178</li>
    <li>192</li>
</ul>

<script>

    (function () {
            document.myReady(function () {
                var uList = document.getElementById('list');
                var list = uList.getElementsByTagName('li');
                //问题：1.动态添加的li标签是没有绑定上事件处理程序

                //    for (var i = 0; i < liList.length; i++) {
                //       EventUtil.addEvent(list[i], 'click', function (e) {
                // alert(this.innerHTML);
                //       });
                //  }
                EventUtil.addEvent(uList, 'click', function (e) {

                    var target = EventUtil.getTarget(e);
                    //如果是点击了父容器自己
                    if (target == uList) {
                        return;
                    }
                    //如果点击的是子元素
                    alert(target.innerHTML);
                });

            })

            //2.li标签非常多时候产生很多绑定事件的信息，浪费大量的内存

            //解决上面的问题
            //1.事件是有冒泡的
            //2.弹出事件源对象的内容 
            //3.getElementsByTagName方法返回的伪数组
            //解决的思路 子元素的事件委托父荣耀来进行注册和处理
    }) ();

</script>
    
</body>
</html>